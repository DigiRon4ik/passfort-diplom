{% load static %}

<!DOCTYPE html>
<html lang="ru">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    {% block hystCSS %}{% endblock hystCSS %}
    <link rel="stylesheet" href="{% static 'css/output.css' %}" />
    <link rel="shortcut icon" href="{% static 'img/favicon.ico' %}" type="image/x-icon" />
    <title>{% block title %}{% endblock title %}</title>
  </head>
  <body class="bg-gray-50 bg-no-repeat bg-bottom bg-fixed" style="background-image: url({% static 'svg/base_wave.svg' %})">
    <!-- Header -->
    <header>
      <nav class="bg-teal-500 fixed top-0 left-0 p-1 w-full shadow-md grid grid-cols-3 items-center z-40">
        <!-- Логотип -->
        <div class="max-w-fit">
          <a href="{% url 'passfort:home' %}" class="c_logo_a group">
            <svg class="c_logo_svg group-hover:stroke-slate-300" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor">
              <path
                fill-rule="evenodd"
                d="M12.516 2.17a.75.75 0 0 0-1.032 0 11.209 11.209 0 0 1-7.877 3.08.75.75 0 0 0-.722.515A12.74 12.74 0 0 0 2.25 9.75c0 5.942 4.064 10.933 9.563 12.348a.749.749 0 0 0 .374 0c5.499-1.415 9.563-6.406 9.563-12.348 0-1.39-.223-2.73-.635-3.985a.75.75 0 0 0-.722-.516l-.143.001c-2.996 0-5.717-1.17-7.734-3.08Zm3.094 8.016a.75.75 0 1 0-1.22-.872l-3.236 4.53L9.53 12.22a.75.75 0 0 0-1.06 1.06l2.25 2.25a.75.75 0 0 0 1.14-.094l3.75-5.25Z"
                clip-rule="evenodd" />
            </svg>
            <span class="c_logo_span group-hover:text-slate-300">PassFort</span>
          </a>
        </div>
        <!-- Конец Логотипа -->

        <!-- Burger menu button -->
        <button id="nav-dropdown-button" class="md:hidden justify-self-center">
          <svg class="h-8 w-8 text-white" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16" />
          </svg>
        </button>
        <!-- Конец Burger menu button -->

        <!-- Dropdown menu -->
        <div id="nav-dropdown-menu" class="max-md:bg-teal-500 max-md:p-2 absolute md:static md:justify-self-center left-1/2 transform -translate-x-1/2 -top-24 w-36 md:w-32 rounded-lg">
          <ul class="text-white flex flex-col md:flex-row md:gap-x-6 text-lg font-medium md:text-xl md:font-semibold">
            <li>
              <a class="hover:text-slate-300 flex flex-row items-center gap-1" href="{% url 'passfort:home' %}">
                <svg class="size-6 md:size-9" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor">
                  <path d="M11.47 3.841a.75.75 0 0 1 1.06 0l8.69 8.69a.75.75 0 1 0 1.06-1.061l-8.689-8.69a2.25 2.25 0 0 0-3.182 0l-8.69 8.69a.75.75 0 1 0 1.061 1.06l8.69-8.689Z" />
                  <path d="m12 5.432 8.159 8.159c.03.03.06.058.091.086v6.198c0 1.035-.84 1.875-1.875 1.875H15a.75.75 0 0 1-.75-.75v-4.5a.75.75 0 0 0-.75-.75h-3a.75.75 0 0 0-.75.75V21a.75.75 0 0 1-.75.75H5.625a1.875 1.875 0 0 1-1.875-1.875v-6.198a2.29 2.29 0 0 0 .091-.086L12 5.432Z" />
                </svg>
                <span>Главная</span>
              </a>
            </li>
            <li>
              <a class="hover:text-slate-300 flex flex-row items-center gap-1" href="{% url 'passfort:generate_password' %}">
                <svg class="size-6 md:size-9" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor">
                  <path d="M16.5 7.5h-9v9h9v-9Z" />
                  <path
                    fill-rule="evenodd"
                    d="M8.25 2.25A.75.75 0 0 1 9 3v.75h2.25V3a.75.75 0 0 1 1.5 0v.75H15V3a.75.75 0 0 1 1.5 0v.75h.75a3 3 0 0 1 3 3v.75H21A.75.75 0 0 1 21 9h-.75v2.25H21a.75.75 0 0 1 0 1.5h-.75V15H21a.75.75 0 0 1 0 1.5h-.75v.75a3 3 0 0 1-3 3h-.75V21a.75.75 0 0 1-1.5 0v-.75h-2.25V21a.75.75 0 0 1-1.5 0v-.75H9V21a.75.75 0 0 1-1.5 0v-.75h-.75a3 3 0 0 1-3-3v-.75H3A.75.75 0 0 1 3 15h.75v-2.25H3a.75.75 0 0 1 0-1.5h.75V9H3a.75.75 0 0 1 0-1.5h.75v-.75a3 3 0 0 1 3-3h.75V3a.75.75 0 0 1 .75-.75ZM6 6.75A.75.75 0 0 1 6.75 6h10.5a.75.75 0 0 1 .75.75v10.5a.75.75 0 0 1-.75.75H6.75a.75.75 0 0 1-.75-.75V6.75Z"
                    clip-rule="evenodd" />
                </svg>
                <span>Генератор</span>
              </a>
            </li>
          </ul>
        </div>
        <!-- Конец Dropdown menu -->

        <!-- Exit and avatar -->
        <div class="flex justify-self-end items-center gap-1 md:gap-2">
          <form action="{% url 'authentication:logout' %}" method="post">
            {% csrf_token %}
            <button class="text-base sm:text-xl md:text-2xl font-bold font-mono text-white hover:text-slate-300" type="submit">Выйти</button>
          </form>
          <a class="group/avatar" href="{% url 'authentication:profile' %}">
            {% if user.img %}
              <img class="hover:grayscale rounded-full object-cover size-8 sm:size-12 md:size-14 mr-1 border-2 sm:border-4 border-white hover:border-slate-300" src="{{ user.img.url }}" alt="Avatar">
            {% else %}
              {% include 'includes/default_avatar.html' %}
            {% endif %}
          </a>
        </div>
        <!-- Конец Exit and avatar -->
      </nav>
    </header>
    <!-- Конец Header'а -->

    {% block content %} {% endblock content %}

    <script>
      const navDropdownButton = document.getElementById("nav-dropdown-button");
      const navDropdownMenu = document.getElementById("nav-dropdown-menu");

      navDropdownButton.addEventListener("click", () => {
        navDropdownMenu.classList.toggle("top-14");
        navDropdownMenu.classList.toggle("sm:top-20");
        navDropdownMenu.classList.toggle("-top-24");
      });
    </script>
    
    {% block hystJS %}{% endblock hystJS %}
  </body>
</html>
